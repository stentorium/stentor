"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[62034],{19916:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>g});var r=n(63696);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef(function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,g=u["".concat(s,".").concat(d)]||u[d]||m[d]||o;return n?r.createElement(g,i(i({ref:t},c),{},{components:n})):r.createElement(g,i({ref:t},c))});function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},50789:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(68102),a=(n(63696),n(19916));const o={},i=void 0,l={unversionedId:"stentor-utils/src/classes/Compiler",id:"stentor-utils/src/classes/Compiler",title:"Compiler",description:"Stentor API Reference",source:"@site/../api/docs/stentor-utils/src/classes/Compiler.md",sourceDirName:"stentor-utils/src/classes",slug:"/stentor-utils/src/classes/Compiler",permalink:"/stentor/api/stentor-utils/src/classes/Compiler",draft:!1,editUrl:"https://github.com/stentorium/stentor/tree/master/../api/docs/stentor-utils/src/classes/Compiler.md",tags:[],version:"current",frontMatter:{}},s={},p=[{value:"Implements",id:"implements",level:2},{value:"Constructors",id:"constructors",level:2},{value:"Constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"props?",id:"props",level:5},{value:"Returns",id:"returns",level:4},{value:"Properties",id:"properties",level:2},{value:"replaceWhenUndefined?",id:"replacewhenundefined",level:3},{value:"Implementation of",id:"implementation-of",level:4},{value:"macros?",id:"macros",level:3},{value:"Implementation of",id:"implementation-of-1",level:4},{value:"additionalContext?",id:"additionalcontext",level:3},{value:"Implementation of",id:"implementation-of-2",level:4},{value:"Methods",id:"methods",level:2},{value:"compile()",id:"compile",level:3},{value:"Call Signature",id:"call-signature",level:4},{value:"Parameters",id:"parameters-1",level:5},{value:"input",id:"input",level:6},{value:"request",id:"request",level:6},{value:"context",id:"context",level:6},{value:"Returns",id:"returns-1",level:5},{value:"Call Signature",id:"call-signature-1",level:4},{value:"Parameters",id:"parameters-2",level:5},{value:"input",id:"input-1",level:6},{value:"request",id:"request-1",level:6},{value:"context",id:"context-1",level:6},{value:"Returns",id:"returns-2",level:5}],c={toc:p},u="wrapper";function m({components:e,...t}){return(0,a.yg)(u,(0,r.A)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/"},(0,a.yg)("strong",{parentName:"a"},"Stentor API Reference"))),(0,a.yg)("hr",null),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/"},"Stentor API Reference")," / ",(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/"},"stentor-utils/src")," / Compiler"),(0,a.yg)("h1",{id:"class-compiler"},"Class: Compiler"),(0,a.yg)("p",null,"Defined in: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/stentorium/stentor/blob/c0410dcd7b880b4f8e849bc9e18a802c802d0a12/packages/stentor-utils/src/compilers/compiler.ts#L56"},"packages/stentor-utils/src/compilers/compiler.ts:56")),(0,a.yg)("p",null,"Compiles the templated response based on the provided request and context with some configurability."),(0,a.yg)("p",null,"You can provide custom macros that can be used to modify the templated response and also additional context\nthat will be used as possible replacements."),(0,a.yg)("h2",{id:"implements"},"Implements"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"/stentor/api/stentor-utils/src/interfaces/CompilerProps"},(0,a.yg)("inlineCode",{parentName:"a"},"CompilerProps")))),(0,a.yg)("h2",{id:"constructors"},"Constructors"),(0,a.yg)("h3",{id:"constructor"},"Constructor"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("strong",{parentName:"p"},"new Compiler"),"(",(0,a.yg)("inlineCode",{parentName:"p"},"props?"),"): ",(0,a.yg)("inlineCode",{parentName:"p"},"Compiler"))),(0,a.yg)("p",null,"Defined in: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/stentorium/stentor/blob/c0410dcd7b880b4f8e849bc9e18a802c802d0a12/packages/stentor-utils/src/compilers/compiler.ts#L64"},"packages/stentor-utils/src/compilers/compiler.ts:64")),(0,a.yg)("h4",{id:"parameters"},"Parameters"),(0,a.yg)("h5",{id:"props"},"props?"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/interfaces/CompilerProps"},(0,a.yg)("inlineCode",{parentName:"a"},"CompilerProps"))),(0,a.yg)("h4",{id:"returns"},"Returns"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"Compiler")),(0,a.yg)("h2",{id:"properties"},"Properties"),(0,a.yg)("h3",{id:"replacewhenundefined"},"replaceWhenUndefined?"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("inlineCode",{parentName:"p"},"readonly")," ",(0,a.yg)("inlineCode",{parentName:"p"},"optional")," ",(0,a.yg)("strong",{parentName:"p"},"replaceWhenUndefined"),": ",(0,a.yg)("inlineCode",{parentName:"p"},"boolean"))),(0,a.yg)("p",null,"Defined in: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/stentorium/stentor/blob/c0410dcd7b880b4f8e849bc9e18a802c802d0a12/packages/stentor-utils/src/compilers/compiler.ts#L58"},"packages/stentor-utils/src/compilers/compiler.ts:58")),(0,a.yg)("p",null,"When true, it will replace the ${foo} with undefined or null if the value for ",(0,a.yg)("inlineCode",{parentName:"p"},"foo")," cannot be found.  Default behavior will leave ${foo} if it does not have a value."),(0,a.yg)("p",null,"A caveat to this is when the ",(0,a.yg)("inlineCode",{parentName:"p"},"foo")," is in a string such as ",(0,a.yg)("inlineCode",{parentName:"p"},'"${foo}"'),' then it will replace it with an empty string instead of undefined, thus "" instead of "undefined".  The reason for this\nis "" is falsey and "undefined" is not.  If you are doing string comparisons then this will be a problem.'),(0,a.yg)("h4",{id:"implementation-of"},"Implementation of"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/interfaces/CompilerProps"},(0,a.yg)("inlineCode",{parentName:"a"},"CompilerProps")),".",(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/interfaces/CompilerProps#replacewhenundefined"},(0,a.yg)("inlineCode",{parentName:"a"},"replaceWhenUndefined"))),(0,a.yg)("hr",null),(0,a.yg)("h3",{id:"macros"},"macros?"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("inlineCode",{parentName:"p"},"readonly")," ",(0,a.yg)("inlineCode",{parentName:"p"},"optional")," ",(0,a.yg)("strong",{parentName:"p"},"macros"),": ",(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/interfaces/MacroMap"},(0,a.yg)("inlineCode",{parentName:"a"},"MacroMap")))),(0,a.yg)("p",null,"Defined in: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/stentorium/stentor/blob/c0410dcd7b880b4f8e849bc9e18a802c802d0a12/packages/stentor-utils/src/compilers/compiler.ts#L60"},"packages/stentor-utils/src/compilers/compiler.ts:60")),(0,a.yg)("p",null,"When provided it overrides the DEFAULT_MACROS and are used when compiling the templates."),(0,a.yg)("p",null,"You can include the DEFAULT_MACROS if you include them:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-ts"},"macros: {\n   ...DEFAULT_MACROS,\n   ...myMacros\n}\n")),(0,a.yg)("h4",{id:"implementation-of-1"},"Implementation of"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/interfaces/CompilerProps"},(0,a.yg)("inlineCode",{parentName:"a"},"CompilerProps")),".",(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/interfaces/CompilerProps#macros"},(0,a.yg)("inlineCode",{parentName:"a"},"macros"))),(0,a.yg)("hr",null),(0,a.yg)("h3",{id:"additionalcontext"},"additionalContext?"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("inlineCode",{parentName:"p"},"readonly")," ",(0,a.yg)("inlineCode",{parentName:"p"},"optional")," ",(0,a.yg)("strong",{parentName:"p"},"additionalContext"),": ",(0,a.yg)("inlineCode",{parentName:"p"},"Record"),"\\<",(0,a.yg)("inlineCode",{parentName:"p"},"string"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"unknown"),">"," = ",(0,a.yg)("inlineCode",{parentName:"p"},"{}"))),(0,a.yg)("p",null,"Defined in: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/stentorium/stentor/blob/c0410dcd7b880b4f8e849bc9e18a802c802d0a12/packages/stentor-utils/src/compilers/compiler.ts#L62"},"packages/stentor-utils/src/compilers/compiler.ts:62")),(0,a.yg)("p",null,"When provided, the additional context will be used when compiling the templates.  This is an opportunity to inject\nmore information beyond the provided request and context objects."),(0,a.yg)("h4",{id:"implementation-of-2"},"Implementation of"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/interfaces/CompilerProps"},(0,a.yg)("inlineCode",{parentName:"a"},"CompilerProps")),".",(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor-utils/src/interfaces/CompilerProps#additionalcontext"},(0,a.yg)("inlineCode",{parentName:"a"},"additionalContext"))),(0,a.yg)("h2",{id:"methods"},"Methods"),(0,a.yg)("h3",{id:"compile"},"compile()"),(0,a.yg)("h4",{id:"call-signature"},"Call Signature"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("strong",{parentName:"p"},"compile"),"(",(0,a.yg)("inlineCode",{parentName:"p"},"input"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"request"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"context"),"): ",(0,a.yg)("inlineCode",{parentName:"p"},"string"))),(0,a.yg)("p",null,"Defined in: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/stentorium/stentor/blob/c0410dcd7b880b4f8e849bc9e18a802c802d0a12/packages/stentor-utils/src/compilers/compiler.ts#L259"},"packages/stentor-utils/src/compilers/compiler.ts:259")),(0,a.yg)("p",null,"Compiles the provided response output or string based on the provided request and context."),(0,a.yg)("p",null,"It is used for compiling conditions on a response or injecting variables into responses."),(0,a.yg)("h5",{id:"parameters-1"},"Parameters"),(0,a.yg)("h6",{id:"input"},"input"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"string")),(0,a.yg)("p",null,"Either a string or a set of responses."),(0,a.yg)("h6",{id:"request"},"request"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor/src/type-aliases/Request"},(0,a.yg)("inlineCode",{parentName:"a"},"Request"))),(0,a.yg)("p",null,"The request"),(0,a.yg)("h6",{id:"context"},"context"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor/src/interfaces/Context"},(0,a.yg)("inlineCode",{parentName:"a"},"Context"))),(0,a.yg)("p",null,"Context object"),(0,a.yg)("h5",{id:"returns-1"},"Returns"),(0,a.yg)("p",null,(0,a.yg)("inlineCode",{parentName:"p"},"string")),(0,a.yg)("h4",{id:"call-signature-1"},"Call Signature"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("strong",{parentName:"p"},"compile"),"(",(0,a.yg)("inlineCode",{parentName:"p"},"input"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"request"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"context"),"): ",(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor/src/interfaces/ResponseOutput"},(0,a.yg)("inlineCode",{parentName:"a"},"ResponseOutput")))),(0,a.yg)("p",null,"Defined in: ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/stentorium/stentor/blob/c0410dcd7b880b4f8e849bc9e18a802c802d0a12/packages/stentor-utils/src/compilers/compiler.ts#L260"},"packages/stentor-utils/src/compilers/compiler.ts:260")),(0,a.yg)("p",null,"Compiles the provided response output or string based on the provided request and context."),(0,a.yg)("p",null,"It is used for compiling conditions on a response or injecting variables into responses."),(0,a.yg)("h5",{id:"parameters-2"},"Parameters"),(0,a.yg)("h6",{id:"input-1"},"input"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor/src/interfaces/ResponseOutput"},(0,a.yg)("inlineCode",{parentName:"a"},"ResponseOutput"))),(0,a.yg)("p",null,"Either a string or a set of responses."),(0,a.yg)("h6",{id:"request-1"},"request"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor/src/type-aliases/Request"},(0,a.yg)("inlineCode",{parentName:"a"},"Request"))),(0,a.yg)("p",null,"The request"),(0,a.yg)("h6",{id:"context-1"},"context"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor/src/interfaces/Context"},(0,a.yg)("inlineCode",{parentName:"a"},"Context"))),(0,a.yg)("p",null,"Context object"),(0,a.yg)("h5",{id:"returns-2"},"Returns"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"/stentor/api/stentor/src/interfaces/ResponseOutput"},(0,a.yg)("inlineCode",{parentName:"a"},"ResponseOutput"))))}m.isMDXComponent=!0}}]);